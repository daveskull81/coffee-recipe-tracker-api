# API Documentation

Base URL: `DEPLOYED_URL/api`

Checking this in a browser or making a `GET` request to it directly should return a `JSON` object like this:  
```
{
    status: 'SUCCESS'
}
```
## Authentication  

All endpoints except for `Login` and `Register` will require Authentication by the client. Any client (web or mobile) will need to authenticate their requests by placing a token as the value for the `Authorization` header.
A `token` property is returned in the response on both the `Login` and `Register` requests with the token for that specific user. The token does not expire for 1 day.

The token for a user can only be used to performs actions on resources for that user specifically. Requests made to resources owned by a user from a token generated by a different user will receive the `401` status code. In the response will be an object with a `message` property.

Example  
```
{ message: 'Access to this data is unauthorized' }
```  

## Errors  

When errors occur with the requests a json object will be returned with both a `message` property and an `error` property. They will each contain information on what error occurred.  
```
{
    message: <ERROR_MESSAGE_TEXT_STRING>,
    error: <ADDITIONAL_ERROR_DATA_TEXT_STRING>
}
```
## Endpoints

| Route | Method | Description | Requires Auth | Body | Returns |
|---|---|---|---|---|---|
| `/auth/login` | POST | Send user credentials to login to the application | No | Auth Object | User Object|
| `/auth/register` | POST | Send user information to register a new user with the application | No | Auth Object | User Object |
| `/users/:userId/coffees` | GET | Retrieve all of the coffees for a particular user | Yes | None | Array of Coffee Objects |
| `/users/:userId/coffees/:coffeeId` | GET | Retrieve data of a specific coffee | Yes | None | Coffee Object|
| `/users/:userId/coffees` | POST | Add a new coffee for the user | Yes | Coffee Object | Coffee Object |
| `/users/:userId/coffees/:coffeeId` | PUT | Update a specific coffee |Yes | Coffee Object | Coffee Object |
| `/users/:userId/coffees/:coffeeId` | DELETE | Remove a specific coffee | Yes | None  | Coffee Object |
| `/users/:userId/methods` | GET | Retrieve all of the methods for a particular user | Yes | None  | Array of Method Objects |
| `/users/:userId/methods/:methodId` | GET | Retrieve data of a specific method | Yes | None  | Method Object |
| `/users/:userId/methods` | POST | Add a new method for the user | Yes | Method Object | Method Object |
| `/users/:userId/methods/:methodId` | PUT | Update a specific method |Yes | Method Object | Method Object |
| `/users/:userId/methods/:methodId` | DELETE | Remove a specific method | Yes | None  | Method Object |
| `/users/:userId/recipes` | GET | Retrieve all of the recipes for a particular user | Yes | None  | Array of Recipe Objects |
| `/users/:userId/recipes/:recipeId` | GET | Retrieve data of a specific recipe | Yes | None  |Recipe Object |
| `/users/:userId/recipes` | POST | Add a new recipe for the user | Yes | Recipe Object | Recipe Object |
| `/users/:userId/recipes/:recipeId` | PUT | Update a specific recipe |Yes | Recipe Object | Recipe Object |
| `/users/:userId/recipes/:recipeId` | DELETE | Remove a specific recipe | Yes | None  | Recipe Object |
| `/users/:userId/recipes/:recipeId/notes` | GET | Retrieve all of the notes for a particular recipe | Yes | None  | Array of Note Objects |
| `/users/:userId/recipes/:recipeId/notes/:notedId` | GET | Retrieve data of a specific note | Yes | None  | Note Object |
| `/users/:userId/recipes/:recipeId/notes` | POST | Add a new note for the recipe | Yes | Note Object | Note Object |
| `/users/:userId/recipes/:recipeId/notes/:notedId` | PUT | Update a specific note |Yes | Note Object | Note Object |
| `/users/:userId/recipes/:recipeId/notes/:notedId` | DELETE | Remove a specific note | Yes | None  | Note Object |

## Objects

### Auth Object
**Required Fields**: `username`, `password`
```
{
	"username": <STRING>,
	"password": <STRING>
}
```
### User Object
```
{
  "id": <INTEGER>,
  "username": <STRING>,
  "token": <STRING>
}
```